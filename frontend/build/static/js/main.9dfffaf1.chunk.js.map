{"version":3,"sources":["images/logo_pic.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteCardPopup.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","components/InfoTooltip.js","auth.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","Header","onLogout","userEmail","loggedIn","pathname","useLocation","history","useHistory","className","src","logo","alt","type","onClick","buttons","button","find","btn","from","push","to","text","getNavButton","CurrentUserContext","React","createContext","Card","card","onCardClick","onLikeClick","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","like","cardLikeButtonClassName","aria-label","link","name","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","handleCardLike","handleCardDelete","userData","avatar","about","map","key","Footer","ImagePopup","onClose","isOpen","PopupWithForm","title","children","submitText","onSubmit","action","EditProfilePopup","onUpdateUser","isLoading","useState","setName","description","setDescription","useEffect","e","preventDefault","placeholder","id","required","minLength","maxLength","onChange","target","value","EditAvatarPopup","onUpdateAvatar","linkRef","useRef","current","ref","AddPlacePopup","setLink","DeleteCardPopup","onDeleteCard","currentCard","Login","onLogin","email","setEmail","password","setPassword","handleSubmit","noValidate","evt","Register","onRegister","ProtectedRoute","Component","component","props","InfoTooltip","icon","BASE_URL","handleResponse","res","ok","json","Promise","reject","getEmail","token","fetch","method","headers","then","getInitialCards","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeleteCardPopupOpen","setIsDeleteCardPopupOpen","setIsLoading","setCurrentUser","setCurrentCard","selectedCard","setSelectedCard","setCards","setLoggedIn","setUserEmail","infoTooltip","setInfoTooltip","tokenCheck","localStorage","auth","data","removeItem","catch","err","console","error","closeAllPopups","all","user","reverse","handleEscClose","closeByOverlay","classList","contains","document","addEventListener","removeEventListener","Provider","path","exact","body","JSON","stringify","status","setItem","handleResponseCardLike","newCard","newCards","el","cardId","finally","filter","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.9dfffaf1.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo_pic.2b1f7ee5.svg\";","import React from 'react';\nimport logo from '../images/logo_pic.svg';\nimport { useLocation, useHistory } from 'react-router-dom'\n\nfunction Header({ onLogout, userEmail, loggedIn }) {\n\n    const { pathname } = useLocation();\n    const history = useHistory();\n\n    const navButtons = [\n        { from: '/sign-up', to: '/sign-in', text: 'Войти' },\n        { from: '/sign-in', to: '/sign-up', text: 'Регистрация' }\n    ]\n\n    function getNavButton (buttons, pathname) {\n        const button = buttons.find((btn) => btn.from === pathname)\n        if (!button) return null\n        return (\n            <div className=\"header__auth\">\n                <button className=\"header__auth-nav\" type=\"button\" onClick={() => history.push(button.to)}>{button.text}</button>\n            </div>\n        )\n    }\n\n    function getAuthMenu () {\n          return (\n            <div className=\"header__auth\">\n              <p className=\"header__auth-email\">{userEmail}</p>\n              <button className=\"header__auth-nav\" type=\"button\" onClick={onLogout}>Выход</button>\n            </div>\n          )\n    }\n\n    return (\n        <header className=\"header\">\n            <img className=\"header__logo\" src={logo} alt=\"Логотип\" />\n            {loggedIn\n                ? getAuthMenu()\n                : getNavButton(navButtons, pathname)\n            }       \n        </header>\n    );\n  }\n\n\nexport default Header;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React, { useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction Card({card, onCardClick, onLikeClick, onCardDelete}) {\n    const currentUser = useContext(CurrentUserContext);\n    const isOwn = card.owner === currentUser._id;\n    const cardDeleteButtonClassName = (`element__remove-button ${isOwn ? '' : 'element__remove-button_disabled'}`);\n\n    const isLiked = card.likes.some((like) => like === currentUser._id);\n    const cardLikeButtonClassName = (`elements__place-button ${isLiked ? 'elements__place-button_active' : '' }`);\n\n    function handleClick() {\n        onCardClick(card.name, card.link);\n    }\n\n    function handleLikeClick() {\n        onLikeClick(card);\n    }\n\n    function handleDeleteClick() {\n        onCardDelete(card);\n    }   \n\n    return(\n        <li className=\"elements__place\">\n            <button type=\"button\" className={cardDeleteButtonClassName} aria-label=\"Удалить карточку\" onClick={handleDeleteClick}/>\n            <Link to={`/card/${card._id}`}>\n                <img className=\"elements__place-image\" src={card.link} alt={card.name} onClick={handleClick}/>\n            </Link>\n            <div className=\"elements__place-signature\">\n                <h2 className=\"elements__place-title\">{card.name}</h2>\n                <div className=\"elements__place-button-container\">\n                    <button className={cardLikeButtonClassName} type=\"button\" aria-label=\"лайк\" onClick={handleLikeClick}/>\n                    <p className=\"elements__place-counter\">{card.likes.length}</p>\n                </div>    \n            </div>\n        </li>\n    );\n} \n\nexport default Card;","import React, { useContext } from 'react';\nimport Card from './Card.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\n\nfunction Main({onEditAvatar, onEditProfile, onAddPlace, onCardClick, cards, handleCardLike, handleCardDelete}) {\n    const userData = useContext(CurrentUserContext);\n\n    return(\n        <main className=\"content\">\n        <section className=\"profile\">\n            <div className=\"profile__avatar_container\">\n                <img className=\"profile__avatar\" alt=\"Аватарка\" src={userData.avatar}/>\n                <button className=\"profile__avatar-overlay\" onClick={onEditAvatar}/>\n            </div>\n            <div className=\"profile__info\">\n                <div className=\"profile__top\">\n                    <h1 className=\"profile__title\">{userData.name}</h1>\n                    <button className=\"profile__edit-button\" type=\"button\" aria-label=\"редактировать\" onClick={onEditProfile}/>\n                </div>\n            <p className=\"profile__subtitle\">{userData.about}</p>\n            </div>\n            <button className=\"profile__add-button\" type=\"button\" aria-label=\"добавить\" onClick={onAddPlace}/>  \n        </section>\n        <section className=\"elements\">\n            <ul className=\"elements__list\">\n                {cards.map((card) => (\n                    <Card\n                        key={card._id}\n                        card={card}\n                        onCardClick={onCardClick}\n                        onLikeClick={handleCardLike}\n                        onCardDelete={handleCardDelete}/>\n                    )\n                )}\n            </ul>\n        </section>\n    </main>\n    )\n}\n\nexport default Main;","import React from 'react';\n\nfunction Footer() {\n    return (\n        <footer className=\"footer\">\n            <p className=\"footer__copyright\">&#169; 2020 Mesto Russia</p>\n        </footer>\n    );\n  }\n\n\nexport default Footer;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\n\nfunction ImagePopup({card, onClose}){\n    return(\n        <section className={`popup popup__image ${card.isOpen ? \"popup_view_open\" : \"\"}`}>            \n            <figure className=\"popup__container popup__image-container\">\n                <Link to=\"/\"  className=\"popup__close-button\" type=\"button\" aria-label=\"закрыть\" onClick={onClose}></Link>\n                <img className=\"popup__image-picture\" src={card.link} alt={card.name}/>\n                <figcaption className=\"popup__image-subtitle\">{card.name}</figcaption>\n            </figure>\n        </section>\n    )\n}\n\nexport default ImagePopup; ","import React from 'react';\n\nfunction PopupWithForm({name, title, isOpen, onClose, children, submitText, onSubmit}) {\n    return (\n        <section className={`popup popup__${name} ${isOpen ?\"popup_view_open\" : \"\"}`}>\n        <form className=\"popup__container popup__form\" action=\"#\" name={name} onSubmit={onSubmit}>\n            <button className=\"popup__close-button\" type=\"button\" aria-label=\"закрыть\" onClick={onClose}/>\n            <h4 className=\"popup__title\">{title}</h4>\n            {children}\n            <button className={`popup__save-button popup__save-button_${name}`} type=\"submit\">{submitText}</button>    \n        </form>\n    </section>\n    )\n} \n\nexport default PopupWithForm;","import React, { useContext } from 'react';\nimport PopupWithForm from './PopupWithForm.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js'\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isLoading }) {\n    const [name, setName] = React.useState('');\n    const [description, setDescription] = React.useState('');\n    const currentUser = useContext(CurrentUserContext);\n\n    function handleChangeName(e) {\n        setName(e.target.value);\n    }\n\n    function handleChangeDescription(e) {\n        setDescription(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        onUpdateUser({\n            name: name,\n            about: description,\n        });\n    }\n\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n    }, [currentUser, isOpen]);\n\n    return (\n        <PopupWithForm\n            name=\"profile\"\n            title=\"Редактировать профиль\"\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n            submitText={`${isLoading ? \"Сохранение...\" : \"Сохранить\"}`}\n        >\n            <label className=\"popup__field\">\n                <input \n                    className=\"popup__input popup__input_name\" \n                    type=\"text\" \n                    placeholder=\"Имя Фамилия\" \n                    name=\"name\" \n                    id=\"name\" \n                    required \n                    minLength=\"2\" \n                    maxLength=\"40\"\n                    onChange={handleChangeName}\n                    value={name || ''}\n                />\n                <span className=\"popup__input-error\" id=\"name-error\"></span>\n            </label>    \n            <label className=\"popup__field\">    \n                <input \n                    className=\"popup__input popup__input_occupation\" \n                    type=\"text\" \n                    placeholder=\"Род деятельности\" \n                    name=\"occupation\" \n                    id=\"occupation\" \n                    required \n                    minLength=\"2\" \n                    maxLength=\"200\"\n                    value={description || ''}\n                    onChange={handleChangeDescription}\n                />\n                <span className=\"popup__input-error\" id=\"occupation-error\"></span>\n            </label>  \n    </PopupWithForm>\n    )\n}\n\nexport default EditProfilePopup;","\nimport React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isLoading }) {\n    const linkRef = React.useRef();\n\n    function handleSubmit(e) {\n        e.preventDefault();\n      \n        onUpdateAvatar({\n          avatar: linkRef.current.value,\n        });\n        linkRef.current.value = '';\n    }\n    \n    return (\n        <PopupWithForm\n            name=\"edit-avatar\"\n            title=\"Обновить аватар\"\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n            submitText={`${isLoading ? \"Сохранение...\" : \"Сохранить\"}`}         \n        >\n            <label className=\"popup__field\">\n                <input \n                    className=\"popup__input popup__input_avatar-link\" \n                    type=\"url\" \n                    placeholder=\"Ссылка на картинку\" \n                    name=\"link\" \n                    id=\"link\" \n                    required\n                    ref={linkRef}\n                />\n                <span className=\"popup__input-error\" id=\"link-error\"></span>\n            </label>      \n    </PopupWithForm>\n    )\n}\n\nexport default EditAvatarPopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, isLoading }) {\n    const [name, setName] = React.useState('');\n    const [link, setLink] = React.useState('');\n\n    function handleChangeName(e) {\n        setName(e.target.value);\n    }\n\n    function handleChangeLink(e) {\n        setLink(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        onAddPlace({\n            name: name,\n            link: link,\n        });\n    }\n\n    React.useEffect(() => {\n        setName('');\n        setLink('');\n      }, [isOpen]);\n\n    return (\n        <PopupWithForm\n            name=\"add-place\"\n            title=\"Новое место\"\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n            submitText={`${isLoading ? \"Сохранение...\" : \"Сохранить\"}`}        \n        >\n            <label className=\"popup__field\">\n                <input \n                    className=\"popup__input popup__input_pic-name\" \n                    type=\"text\" \n                    placeholder=\"Название\" \n                    name=\"place\"\n                    id=\"place\"\n                    value={name || ''} \n                    onChange={handleChangeName} \n                    required\n                />\n            <span className=\"popup__input-error\" id=\"place-error\"></span>\n            </label>    \n            <label className=\"popup__field\">\n                <input \n                    className=\"popup__input popup__input_link\" \n                    type=\"url\" \n                    placeholder=\"Ссылка на картинку\" \n                    name=\"link\" \n                    id=\"link\"\n                    value={link || ''}\n                    onChange={handleChangeLink} \n                    required\n                />\n            <span className=\"popup__input-error\" id=\"link-error\"></span>\n            </label>        \n        </PopupWithForm>\n    )\n}\n\nexport default AddPlacePopup;\n\n\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\n\nfunction DeleteCardPopup({ isOpen, onClose, onDeleteCard, currentCard, isLoading }) {\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        onDeleteCard(currentCard);\n    }\n\n    return (\n        <PopupWithForm\n            name=\"delete\"\n            title=\"Вы уверены?\" \n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n            submitText={`${isLoading ? \"Удаление...\" : \"Да\"}`}\n    />\n        )\n}\n\nexport default DeleteCardPopup;    ","import React from 'react';\n\nfunction Login ({ onLogin }) {\n\n    const [email, setEmail] = React.useState('');\n    const [password, setPassword] = React.useState('');\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        onLogin({ email, password });\n    }\n\n    return (\n        <div className=\"auth\">\n            <h1 className=\"auth__title\">Вход</h1>\n            <form className=\"auth__form\" action=\"#\" noValidate name=\"login\" onSubmit={handleSubmit}>\n            <input \n                className=\"auth__input\"\n                type=\"email\" \n                id=\"loginEmail\"\n                value={email}\n                onChange={(evt) => setEmail(evt.target.value)}\n                name=\"loginEmail\" \n                placeholder=\"Email\" \n                minLength=\"2\" \n                maxLength=\"50\" \n                required \n            />\n            <input \n                className=\"auth__input\"\n                type=\"password\" \n                id=\"loginPass\"\n                value={password}\n                onChange={(evt) => setPassword(evt.target.value)}\n                name=\"loginPass\" \n                placeholder=\"Пароль\" \n                minLength=\"2\" \n                maxLength=\"50\" \n                required \n            />\n            <button className=\"auth__submit\" type=\"submit\" onSubmit={handleSubmit}>Войти</button>\n            </form>\n        </div>\n    )\n\n}\n\nexport default Login;","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction Register ({ onRegister }) {\n\n    const [email, setEmail] = React.useState('');\n    const [password, setPassword] = React.useState('');\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        onRegister({ email, password });\n    }\n\n    return (\n        <div className=\"auth\">\n            <h1 className=\"auth__title\">Регистрация</h1>\n            <form className=\"auth__form\" action=\"#\" noValidate name=\"login\" onSubmit={handleSubmit}>\n            <input \n                className=\"auth__input\"\n                type=\"email\" \n                id=\"regEmail\"\n                value={email}\n                onChange={(evt) => setEmail(evt.target.value)}\n                name=\"regEmail\" \n                placeholder=\"Email\" \n                minLength=\"2\" \n                maxLength=\"50\" \n                required \n            />\n            <input \n                className=\"auth__input\"\n                type=\"password\" \n                id=\"regPass\"\n                value={password}\n                onChange={(evt) => setPassword(evt.target.value)}\n                name=\"regPass\"\n                placeholder=\"Пароль\" \n                minLength=\"2\" \n                maxLength=\"50\" \n                required \n            />\n            <button className=\"auth__submit\" type=\"submit\" onSubmit={handleSubmit}>Зарегистрироваться</button>\n            <p className=\"auth__question\">Уже зарегистрированы?<Link className=\"auth__link\" to=\"sign-in\">Войти</Link></p>\n            </form>\n        </div>\n    )\n\n}\n\nexport default Register;","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\n  return (\n    <Route>\n      {\n        () => props.loggedIn === true ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\n      }\n    </Route>\n)}\n\nexport default ProtectedRoute;","import React from 'react';\n\nfunction InfoTooltip({ text, icon, isOpen, onClose }) {\n    return (\n        <div className={`tooltip  ${isOpen ? \"tooltip_opened\" : \"\"}`}>\n            <div className=\"tooltip__container\">\n                <button className=\"tooltip__close-button\" onClick={onClose} type=\"button\" />\n                <div className={`tooltip__icon tooltip__icon_type_${icon}`}></div>\n                <p className=\"tooltip__text\">{text}</p>\n            </div>\n        </div>\n        \n    )\n}\n\nexport default InfoTooltip;","export const BASE_URL = 'https://api.bewse.mesto.students.nomoredomains.icu/';\n\n\n\nfunction handleResponse (res) {\n  if (res.ok) {\n    return res.json()\n  } else {\n    return Promise.reject(res)\n  }\n}\n\nexport const register = ({ email, password }) => {\n    return fetch(`${BASE_URL}/signup`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({ email, password })\n    })\n    .then(res => handleResponse(res))\n};\n\nexport const login = ({ email, password  }) => {\n    return fetch(`${BASE_URL}/signin`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({ email, password })\n    })\n    .then(res => handleResponse(res))\n};\n\nexport const getEmail = ({ token }) => {\n    return fetch(`${BASE_URL}/users/me`, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      }\n    })\n    .then(res => handleResponse(res))\n  }\n\nexport const getUserInfo = ({ token }) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`\n    }\n  })\n  .then(res => handleResponse(res))\n}\n\nexport const getInitialCards = ({ token }) => {\n    return fetch(`${BASE_URL}/cards`, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      }\n    })\n      .then(res => handleResponse(res))\n  }  \n\nexport const editUserInfo = ({ name, about, token }) => {\n    return fetch(`${BASE_URL}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      body: JSON.stringify({ name, about })\n    })\n      .then(res => handleResponse(res))\n  }\n\nexport const changeAvatar = ({ avatar, token }) => {\n    return fetch(`${BASE_URL}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n        body: JSON.stringify({ avatar })\n    })\n    .then(res => handleResponse(res))\n}\n\nexport const addCard = ({ name, link, token }) => {\n    return fetch(`${BASE_URL}/cards`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      body: JSON.stringify({ name, link })\n    })\n      .then(res => handleResponse(res))\n  }\n\nexport const deleteCard = ({ token, cardId }) => {\n    return fetch(`${BASE_URL}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      }\n    })\n      .then(res => handleResponse(res))\n  }\n\nexport const putLike = ({ cardId, token }) => {\n    return fetch(`${BASE_URL}/cards/${cardId}/likes`, {\n      method: 'PUT',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      }\n    })\n      .then(res => handleResponse(res))\n  }\n  \nexport const removeLike = ({ cardId, token }) => {\n    return fetch(`${BASE_URL}/cards/${cardId}/likes`, {\n      method: 'DELETE',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      }\n    })\n      .then(res => handleResponse(res))\n  }\n","import React from 'react';\nimport { Route, Switch, useHistory } from 'react-router-dom';\nimport Header from '../components/Header.js';\nimport Main from '../components/Main.js';\nimport Footer from '../components/Footer.js';\nimport ImagePopup from '../components/ImagePopup.js';\nimport EditProfilePopup from '../components/EditProfilePopup.js';\nimport EditAvatarPopup from '../components/EditAvatarPopup.js';\nimport AddPlacePopup from '../components/AddPlacePopup.js';\nimport DeleteCardPopup from '../components/DeleteCardPopup.js';\nimport Login from '../components/Login.js';\nimport Register from '../components/Register.js';\nimport ProtectedRoute from '../components/ProtectedRoute.js';\nimport InfoTooltip from '../components/InfoTooltip.js';\nimport * as auth from '../auth.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction App() {\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n    const [isDeleteCardPopupOpen, setIsDeleteCardPopupOpen] = React.useState(false);\n    const [isLoading, setIsLoading] = React.useState(false);\n    const [currentUser, setCurrentUser] = React.useState({});\n    const [currentCard, setCurrentCard] = React.useState({});\n    const [selectedCard, setSelectedCard] = React.useState({});\n    const [cards, setCards] = React.useState([]);\n    const [loggedIn, setLoggedIn] = React.useState(false);\n    const [userEmail, setUserEmail] = React.useState('');\n    const [infoTooltip, setInfoTooltip] = React.useState({ text: '', icon: '', isOpen: false });\n\n    const history = useHistory();\n\n    function handleRegister ({ email, password }) {\n        auth.register({ email, password })\n          .then((res) => {\n            if (res) {\n                setInfoTooltip({ text: 'Вы успешно зарегистрировались!', icon: 'success', isOpen: true });\n                history.push('/sign-in');\n            } \n          })\n          .catch((err) => {\n            if (err.status === 400) {\n                setInfoTooltip({ text: 'Некорректно заполнено одно из полей!', icon: 'error', isOpen: true }); \n            } else {\n                setInfoTooltip({ text: 'Что-то пошло не так! Попробуйте еще раз.', icon: 'error', isOpen: true });\n            }\n          });\n    }\n\n    function handleLogin ({ email, password }) {\n        auth.login({ email, password })\n          .then((data) => {\n            if (data.token) {\n                localStorage.setItem('token', data.token);\n                tokenCheck();\n                setLoggedIn(true);\n            }\n          })\n          .catch((err) => {\n            if (err.status === 400) {\n                setInfoTooltip({ text: 'Не передано одно из полей!', icon: 'error', isOpen: true }); \n            } else if (err.status === 401) {\n                setInfoTooltip({ text: 'Пользователь с таким email не найден!', icon: 'error', isOpen: true }); \n            } else {\n                setInfoTooltip({ text: 'Что-то пошло не так! Попробуйте еще раз.', icon: 'error', isOpen: true });\n            }\n          });\n    }\n\n    function tokenCheck () {\n        if (localStorage.token) {\n          auth.getEmail({ token: localStorage.token})\n            .then((res) => {\n              if (res.data) {\n                setLoggedIn(true);\n                setUserEmail(res.data.email);\n                history.push('/');\n              } else {\n                localStorage.removeItem('token');\n                setLoggedIn(false);\n                setUserEmail('');\n              }\n            })\n            .catch((err) => {\n                console.error(err);\n            });\n        }\n    }\n\n    React.useEffect(() => {\n        tokenCheck();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    function handleLogout () {\n        localStorage.removeItem('token');\n        setLoggedIn(false);\n        setUserEmail('');\n        history.push('sign-in');\n    }\n\n    React.useEffect(() => {\n        if (loggedIn) {\n          Promise.all([auth.getEmail({ token: localStorage.token }), auth.getInitialCards({ token: localStorage.token })])\n            .then(([{ data: user }, { data: card }]) => {\n              setCurrentUser(user)\n              setCards(card.reverse())\n            })\n            .catch((error) => {\n                console.error(error)\n            })\n        }\n      }, [loggedIn])\n\n    function handleCardClick(name, link) {\n        setSelectedCard({\n            isOpen: true, \n            name: name, \n            link: link\n        });\n    }\n\n    function handleEditAvatarClick() {\n        setIsEditAvatarPopupOpen(true);\n    }\n\n    function handleEditProfileClick() {\n        setIsEditProfilePopupOpen(true);\n    }\n\n    function handleAddPlaceClick() {\n        setIsAddPlacePopupOpen(true);\n    }\n\n    function handleDeleteCardClick(card) {\n        setIsDeleteCardPopupOpen(true);\n        setCurrentCard(card);\n    }\n\n    function closeAllPopups() {\n        setIsEditAvatarPopupOpen(false);\n        setIsEditProfilePopupOpen(false);\n        setIsAddPlacePopupOpen(false);\n        setIsDeleteCardPopupOpen(false);\n        setSelectedCard((selectedCard)=> {\n            return {...selectedCard, isOpen: false}\n        });\n        setInfoTooltip({ ...infoTooltip, isOpen: false });\n    }\n\n    React.useEffect(() => {\n        function handleEscClose(e) {\n          if (e.key === \"Escape\") {\n            closeAllPopups();\n            if (loggedIn) {\n                history.push('/');\n            }\n          }\n        }\n    \n        function closeByOverlay(e) {\n          if (e.target.classList.contains('popup_view_open')) {\n            closeAllPopups();\n            if (loggedIn) {\n                history.push('/');\n            }\n          }\n        }\n    \n        document.addEventListener('keyup', handleEscClose);\n        document.addEventListener('click', closeByOverlay);\n\n        return () => {\n          document.removeEventListener('keyup', handleEscClose);\n          document.removeEventListener('click', closeByOverlay);\n        }\n    })\n\n    function handleCardLike(card) { \n        const isLiked = card.likes.some(el => el === currentUser._id)\n\n        function handleResponseCardLike ({ data: newCard }) {\n          const newCards = cards.map(el => el._id === card._id ? newCard : el)\n          setCards(newCards)\n        }\n        \n        if (!isLiked) {\n            auth.putLike({cardId: card._id, token: localStorage.token})\n            .then(handleResponseCardLike)\n            .catch((error) => {\n                console.error(error)\n            })\n        } else {\n            auth.removeLike({cardId: card._id, token: localStorage.token})\n            .then(handleResponseCardLike)\n            .catch((error) => {\n                console.error(error)\n            })\n        }\n    }\n\n    function handleCardDelete(card) {\n        setIsLoading(true);\n        auth.deleteCard({ token: localStorage.token, cardId: card._id })\n        .then(() => {\n          const newCards = cards.filter(el => el._id !== card._id)\n          setCards(newCards)\n            closeAllPopups();\n        })\n        .catch((error) => {\n            console.error(error)\n        })\n        .finally(() => {\n            setIsLoading(false);\n        })\n    }\n\n    function handleUpdateUser({name, about}) {\n        setIsLoading(true);\n        auth.editUserInfo({ token: localStorage.token, name, about })\n        .then(() => {\n            setCurrentUser({ ...currentUser, name, about })\n            closeAllPopups();\n        })\n        .catch((error) => {\n            console.error(error)\n        })\n        .finally(() => {\n            setIsLoading(false);\n        })\n    }\n\n    function handleUpdateAvatar({avatar}) {\n        setIsLoading(true);\n        auth.changeAvatar({avatar, token: localStorage.token})\n        .then(() => {\n            setCurrentUser({...currentUser, avatar});\n            closeAllPopups();\n        })\n        .catch((error) => {\n            console.error(error)\n        })\n        .finally(() => {\n            setIsLoading(false);\n        })\n    }\n\n    function handleAddPlaceSubmit({name, link}) {\n        setIsLoading(true);\n        auth.addCard({ token: localStorage.token, name, link })\n        .then(({ data: newCard }) => {\n            setCards([newCard, ...cards]);\n            closeAllPopups();\n        })\n        .catch((error) => {\n            console.error(error)\n        })\n        .finally(() => {\n            setIsLoading(false);\n        })\n    }\n\n    return (\n        <CurrentUserContext.Provider value={currentUser}>\n            <div className=\"page\">\n                <Header \n                    onLogout={handleLogout}\n                    userEmail={userEmail} \n                    loggedIn={loggedIn}\n                />\n                <Switch>\n                    <Route path=\"/sign-up\" exact>\n                        <Register onRegister={handleRegister} />\n                    </Route>\n                    <Route path=\"/sign-in\" exact>\n                        <Login onLogin={handleLogin} />\n                    </Route>\n\n                    <ProtectedRoute \n                        component={Main}\n                        path=\"/\"\n                        loggedIn={loggedIn}\n                        onEditAvatar={handleEditAvatarClick} \n                        onEditProfile={handleEditProfileClick}\n                        onAddPlace={handleAddPlaceClick}\n                        onCardClick={handleCardClick}\n                        cards={cards}\n                        handleCardLike={handleCardLike}\n                        handleCardDelete={handleDeleteCardClick}\n                    />\n\n                </Switch>\n                <Footer />\n                <EditAvatarPopup \n                isOpen={isEditAvatarPopupOpen}\n                onClose={closeAllPopups}\n                onUpdateAvatar={handleUpdateAvatar}\n                isLoading={isLoading}\n                />\n                <EditProfilePopup \n                isOpen={isEditProfilePopupOpen}\n                onClose={closeAllPopups}\n                onUpdateUser={handleUpdateUser}\n                isLoading={isLoading}\n                />\n                <AddPlacePopup\n                isOpen={isAddPlacePopupOpen}\n                onClose={closeAllPopups}\n                onAddPlace={handleAddPlaceSubmit}\n                isLoading={isLoading}\n                />\n                <ImagePopup\n                    card={selectedCard}\n                    onClose={closeAllPopups}\n                />\n                <DeleteCardPopup\n                isOpen={isDeleteCardPopupOpen}\n                onClose={closeAllPopups}\n                onDeleteCard={handleCardDelete}\n                currentCard={currentCard}\n                isLoading={isLoading}\n                />\n                <InfoTooltip\n                text={infoTooltip.text}\n                icon={infoTooltip.icon}\n                isOpen={infoTooltip.isOpen}\n                onClose={closeAllPopups}\n                />\n            </div>\n        </CurrentUserContext.Provider>\n    );\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport { BrowserRouter } from 'react-router-dom';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter> \n      <App />\n    </BrowserRouter>   \n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}